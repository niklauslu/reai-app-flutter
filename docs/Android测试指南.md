# Reai App - Android BLE功能测试指南

## 📱 测试环境准备

### 系统要求
- **Android版本**: 5.0 (API 21) 或更高
- **蓝牙支持**: BLE (Bluetooth Low Energy)
- **设备内存**: 建议2GB以上
- **存储空间**: 至少100MB可用空间

### 权限要求
应用需要以下权限：
- **蓝牙权限**: 扫描和连接BLE设备
- **位置权限**: Android 6.0+需要位置权限进行BLE扫描
- **存储权限**: 保存应用数据（可选）

## 🚀 安装和启动

### 1. 安装应用
```bash
# 从build目录安装APK
adb install build/app/outputs/flutter-apk/app-debug.apk
```

### 2. 启动应用
- 在设备上找到"Reai App"图标
- 点击启动应用

### 3. 首次启动设置
- 应用会自动请求必要权限
- 请点击"允许"授权蓝牙和位置权限
- 确保蓝牙功能已开启

## 🧪 功能测试步骤

### 测试1: 应用界面测试
1. **启动应用**
   - ✅ 应用正常启动，显示主界面
   - ✅ 底部导航栏显示4个标签：首页、硬件、项目、AI工具

2. **进入硬件页面**
   - ✅ 点击底部"硬件"标签
   - ✅ 看到三个硬件产品卡片
   - ✅ 看到"BLE设备搜索"入口卡片

### 测试2: BLE功能测试
1. **进入BLE搜索页面**
   - ✅ 点击"BLE设备搜索"卡片
   - ✅ 页面跳转到BLE设备列表页面

2. **权限检查**
   - ✅ 应用自动请求蓝牙和位置权限
   - ✅ 点击"允许"授权权限
   - ✅ 应用显示"BLE初始化成功"

3. **设备扫描测试**
   - ✅ 点击"开始扫描"按钮
   - ✅ 按钮文字变为"停止扫描"
   - ✅ 页面显示扫描动画和状态信息

4. **设备发现测试**
   - ✅ 将你的DYJ或ReAI Glass设备置于广播模式
   - ✅ 应用应能发现并显示设备
   - ✅ 设备卡片显示正确的名称、类型和信号强度

### 测试3: 设备连接测试
1. **连接设备**
   - ✅ 点击发现的设备卡片
   - ✅ 应用显示"正在连接..."状态
   - ✅ 连接成功后显示连接成功提示

2. **断开连接**
   - ✅ 再次点击已连接的设备
   - ✅ 应用断开连接并更新状态

## 🔍 支持的设备类型

### 1. 点一机 DYJ (v1)
- **识别标识**: 设备名包含"DYJ"但不包含"Card"
- **主题色**: 绿色 (#00D474)
- **图标**: 开发板图标
- **描述**: 多功能智能硬件开发平台

### 2. 点一机卡片版 DYJ Card
- **识别标识**: 设备名包含"DYJ"和"Card"
- **主题色**: 蓝色 (#4285F4)
- **图标**: 样式卡片图标
- **描述**: 紧凑型卡片式开发板

### 3. ReAI 眼镜 ReAI Glass
- **识别标识**: 设备名包含"ReAI"或"Glass"
- **主题色**: 橙色 (#FBBC04)
- **图标**: 视觉图标
- **描述**: 智能增强现实眼镜

## ⚠️ 常见问题排查

### 问题1: 权限被拒绝
**症状**: 应用提示"权限获取失败"
**解决方案**:
1. 进入手机设置 → 应用管理 → Reai App
2. 手动开启蓝牙和位置权限
3. 重新启动应用

### 问题2: 蓝牙未开启
**症状**: 应用提示"蓝牙未开启"
**解决方案**:
1. 从下拉通知栏开启蓝牙
2. 或进入设置 → 蓝牙，开启蓝牙功能
3. 重新点击"开始扫描"

### 问题3: 设备无法发现
**症状**: 扫描时找不到设备
**解决方案**:
1. 确保设备已开启并处于广播模式
2. 确保设备距离手机在5米以内
3. 关闭手机上其他蓝牙连接
4. 重启应用和设备

### 问题4: 连接失败
**症状**: 点击设备后连接失败
**解决方案**:
1. 确保设备未被其他设备连接
2. 重新扫描设备后再尝试连接
3. 重启手机蓝牙功能
4. 检查设备是否支持BLE连接

### 问题5: 应用崩溃
**症状**: 应用意外关闭
**解决方案**:
1. 查看手机崩溃日志
2. 确保Android版本兼容性
3. 重启应用
4. 如问题持续，联系开发团队

## 📊 测试报告模板

### 基本信息
- **测试设备**: [设备型号，如Samsung Galaxy S21]
- **Android版本**: [如Android 12]
- **应用版本**: [如1.0.0+1]
- **测试时间**: [YYYY-MM-DD HH:MM]

### 测试结果
| 测试项目 | 预期结果 | 实际结果 | 状态 | 备注 |
|---------|---------|---------|------|------|
| 应用启动 | 正常启动 |  | ✅/❌ |  |
| 界面显示 | 显示主界面 |  | ✅/❌ |  |
| 权限请求 | 请求权限 |  | ✅/❌ |  |
| 设备扫描 | 发现设备 |  | ✅/❌ |  |
| 设备连接 | 连接成功 |  | ✅/❌ |  |

### 发现的问题
1. **问题描述**:
   **复现步骤**:
   **预期行为**:
   **实际行为**:
   **严重程度**: 高/中/低

### 建议和反馈
1.
2.
3.

## 📱 性能监控

### 关键指标
- **启动时间**: < 3秒
- **扫描延迟**: < 5秒
- **连接时间**: < 10秒
- **内存使用**: < 200MB
- **电池消耗**: 正常范围内

### 监控方法
1. 使用Android Studio Profiler
2. 查看应用内存和CPU使用情况
3. 监控电池消耗

## 🔄 测试清单

- [ ] 应用正常启动和关闭
- [ ] 主界面和导航正常工作
- [ ] 硬件页面显示正确
- [ ] BLE入口功能正常
- [ ] 权限请求流程正常
- [ ] 设备扫描功能正常
- [ ] 设备识别正确（DYJ/DYJ Card/ReAI Glass）
- [ ] 设备连接功能正常
- [ ] 连接状态显示正确
- [ ] 错误处理友好
- [ ] 应用稳定性良好

---

## 📞 技术支持

如果在测试过程中遇到问题，请：

1. **记录详细信息**: 设备型号、Android版本、错误信息
2. **收集日志**: 使用adb logcat收集应用日志
3. **截图**: 保存错误界面的截图
4. **反馈问题**: 向开发团队报告问题

**技术支持联系方式**:
- 邮箱: support@reai.com
- 文档: [项目文档路径]

---

*测试过程中如发现问题，请及时记录和反馈，以便团队及时修复和改进*